/*! For license information please see riesgos.bundle.js.LICENSE.txt */
(()=>{var e={633:(e,t,n)=>{var r=n(738).default;function a(){"use strict";e.exports=a=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function m(e,t,n,r){var a=t&&t.prototype instanceof E?t:E,o=Object.create(a.prototype),i=new M(r||[]);return c(o,"_invoke",{value:O(e,n,i)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=m;var v="suspendedStart",h="suspendedYield",g="executing",y="completed",b={};function E(){}function L(){}function x(){}var w={};p(w,l,(function(){return this}));var C=Object.getPrototypeOf,S=C&&C(C(T([])));S&&S!==o&&i.call(S,l)&&(w=S);var k=x.prototype=E.prototype=Object.create(w);function j(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function q(e,t){function n(a,o,c,s){var l=f(e[a],e,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==r(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){d.value=e,c(d)}),(function(e){return n("throw",e,c,s)}))}s(l.arg)}var a;c(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}})}function O(e,n,r){var a=v;return function(o,i){if(a===g)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=P(c,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var l=f(e,n,r);if("normal"===l.type){if(a=r.done?y:h,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function P(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(i.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return L.prototype=x,c(k,"constructor",{value:x,configurable:!0}),c(x,"constructor",{value:L,configurable:!0}),L.displayName=p(x,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===L||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,p(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},j(q.prototype),p(q.prototype,d,(function(){return this})),n.AsyncIterator=q,n.async=function(e,t,r,a,o){void 0===o&&(o=Promise);var i=new q(m(e,t,r,a),o);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(k),p(k,u,"Generator"),p(k,l,(function(){return this})),p(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=T,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,n)=>{var r=n(633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";const e=n.p+"assets/images/logo_negro_maps.png";function t(){var t=document.getElementById("map-container"),n=document.querySelectorAll(".map-button");if(t&&n.length){var r=4.6747451365260595,a=-74.06211526147553;window.initGoogleMap=function(){var n=new google.maps.Map(t,{center:{lat:r,lng:a},zoom:14}),o={url:e,scaledSize:new google.maps.Size(50,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,25)};new google.maps.Marker({position:{lat:r,lng:a},map:n,icon:o,title:"Nuestra ubicación"})};var o=new IntersectionObserver((function(e){var t;e[0].isIntersecting&&((t=document.createElement("script")).src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjHr3DJQXXQJsbG7rhKl5tkQoSbDP1UDc&callback=initGoogleMap",t.async=!0,document.head.appendChild(t),o.disconnect())}),{threshold:.1});o.observe(t),n.forEach((function(e){e.addEventListener("click",(function(){var e;switch(this.dataset.map){case"waze":e="https://www.waze.com/ul?ll=".concat(r,",").concat(a,"&navigate=yes");break;case"moovit":e="https://moovit.com/?to=Nuestra%20Ubicación&tll=".concat(r,"_").concat(a);break;case"google":e="https://www.google.com/maps/search/?api=1&query=".concat(r,",").concat(a)}e&&window.open(e,"_blank")}))}))}}function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(756),s=n.n(c);const l=n.p+"assets/images/caneca.svg";function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return new Promise((function(t){setTimeout((function(){console.log("Datos enviados a la API:",JSON.stringify(e,null,2));var n=function(e){console.log("Datos recibidos para procesar:",JSON.stringify(e,null,2));var t=[],n=[];return e.forEach((function(e){var r={"Muy Alto":10,Alto:6,Medio:2,Bajo:0}[e.niveles.deficiencia]||0,a=function(e){return{Continua:4,Frecuente:3,Ocasional:2,Esporádica:1}[e]||0}(e.niveles.exposicion),o=function(e){return{"Mortal o Catastrófico":100,"Muy Grave":60,Grave:25,Leve:10}[e]||0}(e.niveles.consecuencia),i=r*a*o;t.push({cargo:e.cargoName,area:e.area,riesgos:e.gesSeleccionados,nivelRiesgo:i,interpretacion:m(i)}),n.push({cargo:e.cargoName,area:e.area,descripcionTareas:e.descripcionTareas,riesgos:e.gesSeleccionados,medidasPreventivas:e.medidas})})),{matrizRiesgos:t,profesiograma:n}}(e);t({status:200,data:{message:"Datos recibidos y procesados correctamente",matrizRiesgos:n.matrizRiesgos,profesiograma:n.profesiograma}})}),1e3)}))}function m(e){return e>=600?"I":e>=150?"II":e>=40?"III":"IV"}function f(){var e=document.getElementById("cargoContainer"),t=document.getElementById("addCargoBtn"),n=document.getElementById("matrizRiesgosForm"),a=0;function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=this,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){return e.apply(r,o)}),n)}}function i(){var e=c();localStorage.setItem("matrizRiesgosData",JSON.stringify(e))}function c(){var t=[];return e.querySelectorAll(".cargo").forEach((function(e){var n=e.querySelector('input[name="cargoName"]'),r=e.querySelector('input[name="area"]'),a=e.querySelector('input[name="numTrabajadores"]'),o=e.querySelector('textarea[name="descripcionTareas"]').value,i={};["tareasRutinarias","manipulaAlimentos","trabajaAlturas","trabajaEspaciosConfinados"].forEach((function(t){i[t]=e.querySelector('input[name="'.concat(t,'"]')).checked}));var c=e.querySelectorAll('input[type="checkbox"][name^="ges"]'),s=[];c.forEach((function(e){e.checked&&s.push(e.value)}));var l=[];e.querySelectorAll(".medidas-section textarea").forEach((function(e,t){l[t]=e.value}));var d={};e.querySelectorAll(".nivel").forEach((function(e){var t=e.querySelector("label").textContent.trim().split(":")[0].toLowerCase(),n=e.querySelector(".barra.selected");d[t]=n?n.dataset.nivel:null})),t.push(u(u({cargoName:n.value.trim(),area:r.value.trim(),numTrabajadores:a.value,descripcionTareas:o},i),{},{gesSeleccionados:s,medidas:l,niveles:d}))})),t}function d(){var t=!0;return e.querySelectorAll(".cargo").forEach((function(e){var n=e.querySelector('input[name="cargoName"]'),r=e.querySelector('input[name="area"]'),a=e.querySelector('input[name="numTrabajadores"]');n.value.trim()||(alert("Por favor, ingrese el nombre del cargo."),t=!1),r.value.trim()||(alert("Por favor, ingrese el área del cargo."),t=!1),(!a.value||a.value<1)&&(alert("Por favor, ingrese un número válido de trabajadores."),t=!1)})),t}function m(e){var t=e.querySelector(".ges-resumen");if(t){var n=e.querySelectorAll('input[type="checkbox"][name^="ges"]'),r=[];n.forEach((function(e){e.checked&&r.push(e.value)})),t.innerHTML="",r.length>0?r.forEach((function(e){var n=document.createElement("div");n.classList.add("ges-resumen-item");var r=document.createElement("span");r.classList.add("check-mark"),r.textContent="✓";var a=document.createElement("span");a.textContent=e,n.appendChild(r),n.appendChild(a),t.appendChild(n)})):t.textContent="No se han seleccionado GES."}else console.error("gesResumenDiv no encontrado en el DOM")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a++;var r=document.createElement("div");r.classList.add("cargo");var c=document.createElement("div");c.classList.add("cargo-header");var s=document.createElement("div");s.classList.add("header-left");var d=document.createElement("div");d.classList.add("area-label"),d.textContent=t.area||"Área";var u=document.createElement("h3");u.classList.add("cargo-title"),u.textContent=t.cargoName||"Cargo #".concat(a),s.appendChild(d),s.appendChild(u);var p=document.createElement("div");p.classList.add("header-right");var f=document.createElement("div");f.classList.add("trabajadores-container");var v=document.createElement("button");v.type="button",v.classList.add("minus-btn"),v.textContent="-";var h=document.createElement("input");h.type="number",h.name="numTrabajadores",h.min="1",h.value=t.numTrabajadores||"1",h.readOnly=!0;var g=document.createElement("button");g.type="button",g.classList.add("plus-btn"),g.textContent="+",v.addEventListener("click",(function(){parseInt(h.value)>1&&(h.value=parseInt(h.value)-1,i())})),g.addEventListener("click",(function(){h.value=parseInt(h.value)+1,i()})),f.appendChild(v),f.appendChild(h),f.appendChild(g);var y=document.createElement("button");y.type="button",y.classList.add("minimize-btn"),y.innerHTML="-",y.addEventListener("click",(function(){L.classList.toggle("hidden"),y.innerHTML=L.classList.contains("hidden")?"+":"-"}));var b=document.createElement("button");b.type="button",b.classList.add("delete-btn");var E=document.createElement("img");E.src=l,E.alt="Eliminar",E.classList.add("trash-icon"),b.prepend(E),n&&(b.disabled=!0),b.addEventListener("click",(function(){a>1?confirm("¿Está seguro de que desea eliminar este cargo?")&&(r.remove(),a--,i()):alert("No puede eliminar el último cargo.")})),p.appendChild(f),p.appendChild(y),p.appendChild(b),c.appendChild(s),c.appendChild(p);var L=document.createElement("div");L.classList.add("cargo-body");var x=document.createElement("div");x.classList.add("info-general-section");var w=document.createElement("input");w.type="text",w.name="cargoName",w.placeholder="Ingresa el nombre del cargo",w.value=t.cargoName||"",w.addEventListener("input",o((function(){u.textContent=w.value||"Cargo #".concat(a),i()}),300));var C=document.createElement("input");C.type="text",C.name="area",C.placeholder="Ingresa el área",C.value=t.area||"",C.addEventListener("input",o((function(){d.textContent=C.value||"Área",i()}),300));var S=document.createElement("textarea");S.name="descripcionTareas",S.placeholder="Describe las tareas de este cargo",S.value=t.descripcionTareas||"",S.addEventListener("input",o(i,300)),x.appendChild(w),x.appendChild(C),x.appendChild(S);var k=document.createElement("div");k.classList.add("toggles-section");[{label:"¿Las tareas son rutinarias?",name:"tareasRutinarias"},{label:"¿Manipula alimentos?",name:"manipulaAlimentos"},{label:"¿Trabaja en alturas?",name:"trabajaAlturas"},{label:"¿Trabaja en espacios confinados?",name:"trabajaEspaciosConfinados"}].forEach((function(e){var n=document.createElement("div");n.classList.add("toggle");var r=document.createElement("label");r.textContent=e.label;var a=document.createElement("input");a.type="checkbox",a.name=e.name,a.checked=t[e.name]||!1,a.addEventListener("change",i);var o=document.createElement("span");o.classList.add("slider");var c=document.createElement("span");c.classList.add("toggle-yes"),c.textContent="Sí";var s=document.createElement("span");s.classList.add("toggle-no"),s.textContent="No";var l=document.createElement("label");l.classList.add("switch"),l.appendChild(a),l.appendChild(o),l.appendChild(c),l.appendChild(s),n.appendChild(r),n.appendChild(l),k.appendChild(n)}));var j=document.createElement("div");j.classList.add("riesgos-section");var q={Físico:"#cbe3f3",Químico:"#fee6fc",Biológico:"#fdf8cd",Ergonómico:"#c7f9ff",Psicosocial:"#d8fff1",Mecánico:"#ffefd2",Eléctrico:"#e6e6e6",Seguridad:"#fee6fc"},O=document.createElement("div");O.classList.add("riesgos"),["Físico","Químico","Biológico","Ergonómico","Psicosocial","Mecánico","Eléctrico","Seguridad"].forEach((function(e){var n=document.createElement("div");n.classList.add("riesgo");var o=document.createElement("button");o.type="button",o.classList.add("riesgo-header"),o.textContent="Riesgo ".concat(e),o.style.backgroundColor=q[e],o.setAttribute("aria-expanded","false");var c,s,l,d,u,p,f,v=document.createElement("span");v.classList.add("expand-icon"),v.textContent="+",v.style.color=(c=-20,s=parseInt(q[e].slice(1),16),l=c<0?0:255,d=c<0?-1*c:c,u=s>>16,p=s>>8&255,f=255&s,"#"+(16777216+65536*(Math.round((l-u)*d)+u)+256*(Math.round((l-p)*d)+p)+(Math.round((l-f)*d)+f)).toString(16).slice(1)),o.appendChild(v);var h=document.createElement("div");h.classList.add("riesgo-content");var g=function(e){return{Físico:["Ruido","Vibraciones","Temperaturas Extremas","Radiaciones Ionizantes","Radiaciones No Ionizantes","Iluminacion deficiente","Presiones anormales"],Químico:["Gases","Vapores","Polvos","Humos","Liquidos","Solventes"],Biológico:["Virus","Bacterias","Hongos","Parásitos","Picaduras/Mordeduras"],Ergonómico:["Posturas prolongadas","Movimientos Repetitivos","Manipulación Manual de Cargas","Esfuerzo"],Psicosocial:["Gestion organizaciona","Estrés","Violencia Laboral","Jornadas Excesivas","Sobrecarga laboral"],Mecánico:["Golpes y Cortes","Caídas","Proyección de Partículas"],Eléctrico:["Contacto Directo","Contacto Indirecto","Arco Eléctrico"],Seguridad:["Maquinaria/Herramienta","Electrico","Locativo","Técnologico","Accidentes de transto","Inseguridad publica"]}[e]||[]}(e);g.forEach((function(n){var o=document.createElement("input");o.type="checkbox",o.name="ges".concat(a),o.value="".concat(e," - ").concat(n),t.gesSeleccionados&&t.gesSeleccionados.includes("".concat(e," - ").concat(n))&&(o.checked=!0),o.addEventListener("change",(function(){m(r),i()}));var c=document.createElement("label");c.textContent=n;var s=document.createElement("div");s.classList.add("ges-item"),s.appendChild(o),s.appendChild(c),h.appendChild(s)})),o.addEventListener("click",(function(){var e="true"===o.getAttribute("aria-expanded")||!1;o.setAttribute("aria-expanded",!e),h.classList.toggle("active"),v.textContent=e?"+":"-"})),n.appendChild(o),n.appendChild(h),O.appendChild(n)})),j.appendChild(O);var P=document.createElement("div");P.classList.add("ges-resumen");var A=document.createElement("div");A.classList.add("niveles-section");[{nombre:"deficiencia",etiqueta:"Nivel de Deficiencia de Control del Riesgo"},{nombre:"exposicion",etiqueta:"Nivel de Exposición a los Riesgos"},{nombre:"consecuencia",etiqueta:"Nivel de Consecuencia del Riesgo"}].forEach((function(e){var n=document.createElement("div");n.classList.add("nivel");var r=document.createElement("label");r.textContent="".concat(e.etiqueta,": "),n.appendChild(r);var a=document.createElement("div");a.classList.add("barras");var o=["#4caf50","#ffeb3b","#ff9800","#f44336"];["Muy Bajo","Bajo","Medio","Alto"].forEach((function(r,c){var s=document.createElement("div");s.classList.add("barra"),s.style.backgroundColor=o[c],s.dataset.nivel=r,s.setAttribute("tabindex","0"),s.setAttribute("role","button"),s.setAttribute("aria-label",r),t.niveles&&t.niveles[e.nombre]===r&&s.classList.add("selected");var l=document.createElement("span");l.classList.add("check-icon"),l.textContent="✓",s.appendChild(l),s.addEventListener("click",(function(){n.querySelectorAll(".barra").forEach((function(e){return e.classList.remove("selected")})),s.classList.add("selected"),t.niveles[e.nombre]=r,i()})),a.appendChild(s)})),n.appendChild(a),A.appendChild(n)}));var I=document.createElement("div");I.classList.add("medidas-section");["Medidas para eliminar riesgos","Medidas que tomarás para sustituir fuentes de riesgos","Medidas que tomarás en infraestructura para eliminar fuentes de riesgo"].forEach((function(e,n){var r=document.createElement("textarea");r.name="medida".concat(n+1),r.placeholder=e,r.value=t.medidas&&t.medidas[n]||"",r.addEventListener("input",o(i,300)),I.appendChild(r)})),L.appendChild(x),L.appendChild(k),L.appendChild(j),L.appendChild(P),L.appendChild(A),L.appendChild(I),r.appendChild(c),r.appendChild(L),e.appendChild(r),m(r)}var v=JSON.parse(localStorage.getItem("matrizRiesgosData"))||[];v.length>0?v.forEach((function(e,t){f(e,0===t)})):f({},!0),t.addEventListener("click",(function(){f()})),n.addEventListener("submit",function(){var e,t=(e=s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!d()){e.next=17;break}return n=c(),e.prev=3,e.next=6,p(n);case 6:r=e.sent,console.log("Respuesta de la API:",r.data),a=r.data,o=void 0,(o=document.createElement("div")).innerHTML="\n        <h3>Matriz de Riesgos</h3>\n        <pre>".concat(JSON.stringify(a.matrizRiesgos,null,2),"</pre>\n        <h3>Profesiograma</h3>\n        <pre>").concat(JSON.stringify(a.profesiograma,null,2),"</pre>\n        "),document.body.appendChild(o),alert("Matriz de Riesgos y Profesiograma generados correctamente."),localStorage.removeItem("matrizRiesgosData"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),alert("Hubo un error al procesar los datos."),console.error(e.t0);case 17:case"end":return e.stop()}var a,o}),e,null,[[3,13]])})),function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}())}function v(){var e,n,r,a,o,i,c,s,l,d;e=document.querySelector(".dropdown-toggle"),n=document.getElementById("services-menu"),e&&n&&(e.addEventListener("click",(function(){var e="true"===this.getAttribute("aria-expanded")||!1;this.setAttribute("aria-expanded",!e),n.setAttribute("aria-hidden",e)})),document.addEventListener("click",(function(t){e.contains(t.target)||n.contains(t.target)||(e.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"))}))),function(){var e=document.querySelectorAll(".step-card, .client-card");if(e.length){var t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.1,rootMargin:"0px 0px -100px 0px"});e.forEach((function(e){return t.observe(e)}))}}(),t(),r=document.getElementById("whatsapp-button"),a=document.getElementById("whatsapp-popup"),o=document.getElementById("close-popup"),i=document.getElementById("start-chat"),r&&a&&o&&i&&(r.addEventListener("click",(function(){a.style.display="block",setTimeout((function(){a.classList.add("show")}),10)})),o.addEventListener("click",(function(){a.classList.remove("show"),setTimeout((function(){a.style.display="none"}),300)})),i.addEventListener("click",(function(){window.open("https://wa.me/573205803048","_blank")}))),(c=document.querySelector(".faqs__grid"))&&([{question:"¿Cuánto me va a costar implementar un programa de SST completo?",answer:"En Genesys, adaptamos nuestros programas de SST a las necesidades específicas de tu empresa. Ofrecemos soluciones flexibles y escalables, asegurando que obtengas el mejor valor por tu inversión sin comprometer la calidad. Contáctanos para una cotización personalizada."}].forEach((function(e,t){var n=document.createElement("div");n.classList.add("faqs__item"),n.innerHTML='\n            <div class="faqs__question" tabindex="0" aria-expanded="false" aria-controls="faq-answer-'.concat(t,'">\n                ').concat(e.question,'\n            </div>\n            <div id="faq-answer-').concat(t,'" class="faqs__answer" aria-hidden="true">\n                ').concat(e.answer,"\n            </div>\n        "),c.appendChild(n)})),c.addEventListener("click",(function(e){var t=e.target.closest(".faqs__question");if(t){var n=t.nextElementSibling,r="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!r),n.setAttribute("aria-hidden",r),n.style.maxHeight=r?null:n.scrollHeight+"px"}}))),s=document.querySelector(".ham-menu"),l=document.querySelector(".off-screen-menu"),s&&l&&(s.addEventListener("click",(function(){this.classList.toggle("active"),l.classList.toggle("active"),document.body.classList.toggle("menu-open")})),document.addEventListener("click",(function(e){!l.classList.contains("active")||l.contains(e.target)||s.contains(e.target)||s.click()}))),(d=document.querySelector(".clients"))&&[].forEach((function(e){var t=document.createElement("div");t.classList.add("client"),t.innerHTML='\n            <img src="'.concat(e.logo,'" alt="').concat(e.name,'" loading="lazy">\n            <p>').concat(e.name,"</p>\n        "),d.appendChild(t)})),f(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.1;e.forEach((function(e){e.addEventListener("mouseenter",(function(){e.style.transform="scale(".concat(t,")"),e.style.transition="transform 0.3s ease"})),e.addEventListener("mouseleave",(function(){e.style.transform="scale(1)"}))}))}(document.querySelectorAll(".certification-img")),document.querySelectorAll('a[href^="#"]').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v):v()})()})();