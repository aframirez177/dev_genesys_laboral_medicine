/*! For license information please see riesgos.bundle.js.LICENSE.txt */
(()=>{var e={633:(e,t,n)=>{var a=n(738).default;function r(){"use strict";e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function m(e,t,n,a){var r=t&&t.prototype instanceof E?t:E,o=Object.create(r.prototype),i=new j(a||[]);return c(o,"_invoke",{value:I(e,n,i)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=m;var v="suspendedStart",h="suspendedYield",g="executing",y="completed",b={};function E(){}function L(){}function x(){}var w={};p(w,l,(function(){return this}));var C=Object.getPrototypeOf,S=C&&C(C(P([])));S&&S!==o&&i.call(S,l)&&(w=S);var k=x.prototype=E.prototype=Object.create(w);function q(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,o,c,s){var l=f(e[r],e,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==a(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){d.value=e,c(d)}),(function(e){return n("throw",e,c,s)}))}s(l.arg)}var r;c(this,"_invoke",{value:function(e,a){function o(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(o,o):o()}})}function I(e,n,a){var r=v;return function(o,i){if(r===g)throw Error("Generator is already running");if(r===y){if("throw"===o)throw i;return{value:t,done:!0}}for(a.method=o,a.arg=i;;){var c=a.delegate;if(c){var s=M(c,a);if(s){if(s===b)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===v)throw r=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=g;var l=f(e,n,a);if("normal"===l.type){if(r=a.done?y:h,l.arg===b)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r=y,a.method="throw",a.arg=l.arg)}}}function M(e,n){var a=n.method,r=e.iterator[a];if(r===t)return n.delegate=null,"throw"===a&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),b;var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(a(e)+" is not iterable")}return L.prototype=x,c(k,"constructor",{value:x,configurable:!0}),c(x,"constructor",{value:L,configurable:!0}),L.displayName=p(x,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===L||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,p(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},q(A.prototype),p(A.prototype,d,(function(){return this})),n.AsyncIterator=A,n.async=function(e,t,a,r,o){void 0===o&&(o=Promise);var i=new A(m(e,t,a,r),o);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},q(k),p(k,u,"Generator"),p(k,l,(function(){return this})),p(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},n.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(a,r){return c.type="throw",c.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;_(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:P(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),b}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,n)=>{var a=n(633)();e.exports=a;try{regeneratorRuntime=a}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";const e=n.p+"assets/images/logo_negro_maps.png";function t(){var t=document.getElementById("map-container"),n=document.querySelectorAll(".map-button");if(t&&n.length){var a=4.6747451365260595,r=-74.06211526147553;window.initGoogleMap=function(){var n=new google.maps.Map(t,{center:{lat:a,lng:r},zoom:14}),o={url:e,scaledSize:new google.maps.Size(50,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,25)};new google.maps.Marker({position:{lat:a,lng:r},map:n,icon:o,title:"Nuestra ubicación"})};var o=new IntersectionObserver((function(e){var t;e[0].isIntersecting&&((t=document.createElement("script")).src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjHr3DJQXXQJsbG7rhKl5tkQoSbDP1UDc&callback=initGoogleMap",t.async=!0,document.head.appendChild(t),o.disconnect())}),{threshold:.1});o.observe(t),n.forEach((function(e){e.addEventListener("click",(function(){var e;switch(this.dataset.map){case"waze":e="https://www.waze.com/ul?ll=".concat(a,",").concat(r,"&navigate=yes");break;case"moovit":e="https://moovit.com/?to=Nuestra%20Ubicación&tll=".concat(a,"_").concat(r);break;case"google":e="https://www.google.com/maps/search/?api=1&query=".concat(a,",").concat(r)}e&&window.open(e,"_blank")}))}))}}function a(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,r)}var r=n(756),o=n.n(r);const i=n.p+"assets/images/caneca.svg";function c(e){return new Promise((function(t){setTimeout((function(){console.log("Datos enviados a la API:",JSON.stringify(e,null,2));var n=function(e){console.log("Datos recibidos para procesar:",JSON.stringify(e,null,2));var t=[],n=[];return e.forEach((function(e){var a={"Muy Alto":10,Alto:6,Medio:2,Bajo:0}[e.niveles.deficiencia]||0,r=function(e){return{Continua:4,Frecuente:3,Ocasional:2,Esporádica:1}[e]||0}(e.niveles.exposicion),o=function(e){return{"Mortal o Catastrófico":100,"Muy Grave":60,Grave:25,Leve:10}[e]||0}(e.niveles.consecuencia),i=a*r*o;t.push({cargo:e.cargoName,area:e.area,riesgos:e.gesSeleccionados,nivelRiesgo:i,interpretacion:s(i)}),n.push({cargo:e.cargoName,area:e.area,descripcionTareas:e.descripcionTareas,riesgos:e.gesSeleccionados,medidasPreventivas:e.medidas})})),{matrizRiesgos:t,profesiograma:n}}(e);t({status:200,data:{message:"Datos recibidos y procesados correctamente",matrizRiesgos:n.matrizRiesgos,profesiograma:n.profesiograma}})}),1e3)}))}function s(e){return e>=600?"I":e>=150?"II":e>=40?"III":"IV"}function l(){var e=document.getElementById("cargoContainer"),t=document.getElementById("addCargoBtn"),n=document.getElementById("matrizRiesgosForm"),r=0;function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){return e.apply(a,o)}),n)}}function l(){var e=d();localStorage.setItem("matrizRiesgosData",JSON.stringify(e))}function d(){var t=[];return e.querySelectorAll(".cargo").forEach((function(e){var n={cargoName:e.querySelector('input[name="cargoName"]').value.trim(),area:e.querySelector('input[name="area"]').value.trim(),numTrabajadores:e.querySelector('input[name="numTrabajadores"]').value,descripcionTareas:e.querySelector('textarea[name="descripcionTareas"]').value,niveles:{},gesSeleccionados:[],medidas:[]};["tareasRutinarias","manipulaAlimentos","trabajaAlturas","trabajaEspaciosConfinados"].forEach((function(t){n[t]=e.querySelector('input[name="'.concat(t,'"]')).checked}));e.querySelectorAll('input[type="checkbox"][name^="ges"]');e.querySelectorAll('input[type="checkbox"][name^="ges"]:checked').forEach((function(e){n.gesSeleccionados.push(e.value)})),e.querySelectorAll(".medidas-section textarea").forEach((function(e){n.medidas.push(e.value)})),e.querySelectorAll(".nivel").forEach((function(e){var t=e.querySelector("label").textContent.trim().split(":")[0].toLowerCase(),a=e.querySelector(".barra.selected");n.niveles[t]=a?a.dataset.nivel:null})),t.push(n)})),t}function u(){var t=!0;return e.querySelectorAll(".cargo").forEach((function(e){var n=e.querySelector('input[name="cargoName"]'),a=e.querySelector('input[name="area"]'),r=e.querySelector('input[name="numTrabajadores"]');n.value.trim()||(alert("Por favor, ingrese el nombre del cargo."),t=!1),a.value.trim()||(alert("Por favor, ingrese el área del cargo."),t=!1),(!r.value||r.value<1)&&(alert("Por favor, ingrese un número válido de trabajadores."),t=!1)})),t}function p(e){var t=e.querySelector(".ges-resumen");if(t){var n=e.querySelectorAll('input[type="checkbox"][name^="ges"]'),a=[];n.forEach((function(e){e.checked&&a.push(e.value)})),t.innerHTML="",a.length>0?a.forEach((function(e){var n=document.createElement("div");n.classList.add("ges-resumen-item");var a=document.createElement("span");a.classList.add("check-mark"),a.textContent="✓";var r=document.createElement("span");r.textContent=e,n.appendChild(a),n.appendChild(r),t.appendChild(n)})):t.textContent="No se han seleccionado GES."}else console.error("gesResumenDiv no encontrado en el DOM")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r++;var a=document.createElement("div");a.classList.add("cargo");var o=document.createElement("div");o.classList.add("cargo-header");var c=document.createElement("div");c.classList.add("header-left");var d=document.createElement("div");d.classList.add("area-label"),d.textContent=t.area||"Área";var u=document.createElement("h3");u.classList.add("cargo-title"),u.textContent=t.cargoName||"Cargo #".concat(r),c.appendChild(d),c.appendChild(u);var m=document.createElement("div");m.classList.add("header-right");var f=document.createElement("div");f.classList.add("trabajadores-container");var v=document.createElement("button");v.type="button",v.classList.add("minus-btn"),v.textContent="-";var h=document.createElement("input");h.type="number",h.name="numTrabajadores",h.min="1",h.value=t.numTrabajadores||"1",h.readOnly=!0;var g=document.createElement("button");g.type="button",g.classList.add("plus-btn"),g.textContent="+",v.addEventListener("click",(function(){parseInt(h.value)>1&&(h.value=parseInt(h.value)-1,l())})),g.addEventListener("click",(function(){h.value=parseInt(h.value)+1,l()})),f.appendChild(v),f.appendChild(h),f.appendChild(g);var y=document.createElement("button");y.type="button",y.classList.add("minimize-btn"),y.innerHTML="-",y.addEventListener("click",(function(){L.classList.toggle("hidden"),y.innerHTML=L.classList.contains("hidden")?"+":"-"}));var b=document.createElement("button");b.type="button",b.classList.add("delete-btn");var E=document.createElement("img");E.src=i,E.alt="Eliminar",E.classList.add("trash-icon"),b.prepend(E),n&&(b.disabled=!0),b.addEventListener("click",(function(){r>1?confirm("¿Está seguro de que desea eliminar este cargo?")&&(a.remove(),r--,l()):alert("No puede eliminar el último cargo.")})),m.appendChild(f),m.appendChild(y),m.appendChild(b),o.appendChild(c),o.appendChild(m);var L=document.createElement("div");L.classList.add("cargo-body");var x=document.createElement("div");x.classList.add("info-general-section");var w=document.createElement("input");w.type="text",w.name="cargoName",w.placeholder="Ingresa el nombre del cargo",w.value=t.cargoName||"",w.addEventListener("input",s((function(){u.textContent=w.value||"Cargo #".concat(r),l()}),300));var C=document.createElement("input");C.type="text",C.name="area",C.placeholder="Ingresa el área",C.value=t.area||"",C.addEventListener("input",s((function(){d.textContent=C.value||"Área",l()}),300));var S=document.createElement("textarea");S.name="descripcionTareas",S.placeholder="Describe las tareas de este cargo",S.value=t.descripcionTareas||"",S.addEventListener("input",s(l,300)),x.appendChild(w),x.appendChild(C),x.appendChild(S);var k=document.createElement("div");k.classList.add("toggles-section");[{label:"¿Las tareas son rutinarias?",name:"tareasRutinarias"},{label:"¿Manipula alimentos?",name:"manipulaAlimentos"},{label:"¿Trabaja en alturas?",name:"trabajaAlturas"},{label:"¿Trabaja en espacios confinados?",name:"trabajaEspaciosConfinados"}].forEach((function(e){var n=document.createElement("div");n.classList.add("toggle");var a=document.createElement("label");a.textContent=e.label;var r=document.createElement("input");r.type="checkbox",r.name=e.name,r.checked=t[e.name]||!1,r.addEventListener("change",l);var o=document.createElement("span");o.classList.add("slider");var i=document.createElement("span");i.classList.add("toggle-yes"),i.textContent="Sí";var c=document.createElement("span");c.classList.add("toggle-no"),c.textContent="No";var s=document.createElement("label");s.classList.add("switch"),s.appendChild(r),s.appendChild(o),s.appendChild(i),s.appendChild(c),n.appendChild(a),n.appendChild(s),k.appendChild(n)}));var q=document.createElement("div");q.classList.add("riesgos-section");var A={Físico:"#cbe3f3",Químico:"#fee6fc",Biológico:"#fdf8cd",Ergonómico:"#c7f9ff",Psicosocial:"#d8fff1",Mecánico:"#ffefd2",Eléctrico:"#e6e6e6",Seguridad:"#fee6fc"},I=document.createElement("div");I.classList.add("riesgos"),["Físico","Químico","Biológico","Ergonómico","Psicosocial","Mecánico","Eléctrico","Seguridad"].forEach((function(e){var n=document.createElement("div");n.classList.add("riesgo");var o=document.createElement("button");o.type="button",o.classList.add("riesgo-header"),o.textContent="Riesgo ".concat(e),o.style.backgroundColor=A[e],o.setAttribute("aria-expanded","false");var i,c,s,d,u,m,f,v=document.createElement("span");v.classList.add("expand-icon"),v.textContent="+",v.style.color=(i=-20,c=parseInt(A[e].slice(1),16),s=i<0?0:255,d=i<0?-1*i:i,u=c>>16,m=c>>8&255,f=255&c,"#"+(16777216+65536*(Math.round((s-u)*d)+u)+256*(Math.round((s-m)*d)+m)+(Math.round((s-f)*d)+f)).toString(16).slice(1)),o.appendChild(v);var h=document.createElement("div");h.classList.add("riesgo-content");var g=function(e){return{Físico:["Ruido","Vibraciones","Temperaturas Extremas","Radiaciones Ionizantes","Radiaciones No Ionizantes","Iluminacion deficiente","Presiones anormales"],Químico:["Gases","Vapores","Polvos","Humos","Liquidos","Solventes"],Biológico:["Virus","Bacterias","Hongos","Parásitos","Picaduras/Mordeduras"],Ergonómico:["Posturas prolongadas","Movimientos Repetitivos","Manipulación Manual de Cargas","Esfuerzo"],Psicosocial:["Gestion organizacional","Estrés","Violencia Laboral","Jornadas Excesivas","Sobrecarga laboral"],Mecánico:["Golpes y Cortes","Caídas","Proyección de Partículas"],Eléctrico:["Contacto Directo","Contacto Indirecto","Arco Eléctrico"],Seguridad:["Maquinaria/Herramienta","Electrico","Locativo","Técnologico","Accidentes de transto","Inseguridad publica"]}[e]||[]}(e);g.forEach((function(n){var o=document.createElement("input");o.type="checkbox",o.name="ges".concat(r),o.value="".concat(e," - ").concat(n),t.gesSeleccionados&&t.gesSeleccionados.includes("".concat(e," - ").concat(n))&&(o.checked=!0),o.addEventListener("change",(function(){p(a),l()}));var i=document.createElement("label");i.textContent=n;var c=document.createElement("div");c.classList.add("ges-item"),c.appendChild(o),c.appendChild(i),h.appendChild(c)})),o.addEventListener("click",(function(){var e="true"===o.getAttribute("aria-expanded")||!1;o.setAttribute("aria-expanded",!e),h.classList.toggle("active"),v.textContent=e?"+":"-"})),n.appendChild(o),n.appendChild(h),I.appendChild(n)})),q.appendChild(I);var M=document.createElement("div");M.classList.add("ges-resumen");var T=document.createElement("div");T.classList.add("niveles-section");[{nombre:"deficiencia",etiqueta:"Nivel de Deficiencia de Control del Riesgo"},{nombre:"exposicion",etiqueta:"Nivel de Exposición a los Riesgos"},{nombre:"consecuencia",etiqueta:"Nivel de Consecuencia del Riesgo"}].forEach((function(e){var n=document.createElement("div");n.classList.add("nivel");var a=document.createElement("label");a.textContent="".concat(e.etiqueta,": "),n.appendChild(a);var r=document.createElement("div");r.classList.add("barras");var o=["#4caf50","#ffeb3b","#ff9800","#f44336"];["Muy Bajo","Bajo","Medio","Alto"].forEach((function(a,i){var c=document.createElement("div");c.classList.add("barra"),c.style.backgroundColor=o[i],c.dataset.nivel=a,c.setAttribute("tabindex","0"),c.setAttribute("role","button"),c.setAttribute("aria-label",a),t.niveles&&t.niveles[e.nombre]===a&&c.classList.add("selected");var s=document.createElement("span");s.classList.add("check-icon"),s.textContent="✓",c.appendChild(s),c.addEventListener("click",(function(){n.querySelectorAll(".barra").forEach((function(e){return e.classList.remove("selected")})),c.classList.add("selected"),t.niveles[e.nombre]=a,l()})),r.appendChild(c)})),n.appendChild(r),T.appendChild(n)}));var _=document.createElement("div");_.classList.add("medidas-section");["Medidas para eliminar riesgos","Medidas que tomarás para sustituir fuentes de riesgos","Medidas que tomarás en infraestructura para eliminar fuentes de riesgo"].forEach((function(e,n){var a=document.createElement("textarea");a.name="medida".concat(n+1),a.placeholder=e,a.value=t.medidas&&t.medidas[n]||"",a.addEventListener("input",s(l,300)),_.appendChild(a)})),L.appendChild(x),L.appendChild(k),L.appendChild(q),L.appendChild(M),L.appendChild(T),L.appendChild(_),a.appendChild(o),a.appendChild(L),e.appendChild(a),p(a)}var f=JSON.parse(localStorage.getItem("matrizRiesgosData"))||[];f.length>0?f.forEach((function(e,t){m(e,0===t)})):m({},!0),t.addEventListener("click",(function(){m()})),n.addEventListener("submit",function(){var e,t=(e=o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!u()){e.next=17;break}return n=d(),e.prev=3,e.next=6,c(n);case 6:a=e.sent,console.log("Respuesta de la API:",a.data),r=a.data,o=void 0,(o=document.createElement("div")).innerHTML="\n        <h3>Matriz de Riesgos</h3>\n        <pre>".concat(JSON.stringify(r.matrizRiesgos,null,2),"</pre>\n        <h3>Profesiograma</h3>\n        <pre>").concat(JSON.stringify(r.profesiograma,null,2),"</pre>\n        "),document.body.appendChild(o),alert("Matriz de Riesgos y Profesiograma generados correctamente."),localStorage.removeItem("matrizRiesgosData"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),alert("Hubo un error al procesar los datos."),console.error(e.t0);case 17:case"end":return e.stop()}var r,o}),e,null,[[3,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,s,"next",e)}function s(e){a(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}())}function d(){var e,n,a,r,o,i,c,s,d,u;e=document.querySelector(".dropdown-toggle"),n=document.getElementById("services-menu"),e&&n&&(e.addEventListener("click",(function(){var e="true"===this.getAttribute("aria-expanded")||!1;this.setAttribute("aria-expanded",!e),n.setAttribute("aria-hidden",e)})),document.addEventListener("click",(function(t){e.contains(t.target)||n.contains(t.target)||(e.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"))}))),function(){var e=document.querySelectorAll(".step-card, .client-card");if(e.length){var t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.1,rootMargin:"0px 0px -100px 0px"});e.forEach((function(e){return t.observe(e)}))}}(),t(),a=document.getElementById("whatsapp-button"),r=document.getElementById("whatsapp-popup"),o=document.getElementById("close-popup"),i=document.getElementById("start-chat"),a&&r&&o&&i&&(a.addEventListener("click",(function(){r.style.display="block",setTimeout((function(){r.classList.add("show")}),10)})),o.addEventListener("click",(function(){r.classList.remove("show"),setTimeout((function(){r.style.display="none"}),300)})),i.addEventListener("click",(function(){window.open("https://wa.me/573205803048","_blank")}))),(c=document.querySelector(".faqs__grid"))&&([{question:"¿Cuánto me va a costar implementar un programa de SST completo?",answer:"En Genesys, adaptamos nuestros programas de SST a las necesidades específicas de tu empresa. Ofrecemos soluciones flexibles y escalables, asegurando que obtengas el mejor valor por tu inversión sin comprometer la calidad. Contáctanos para una cotización personalizada."}].forEach((function(e,t){var n=document.createElement("div");n.classList.add("faqs__item"),n.innerHTML='\n            <div class="faqs__question" tabindex="0" aria-expanded="false" aria-controls="faq-answer-'.concat(t,'">\n                ').concat(e.question,'\n            </div>\n            <div id="faq-answer-').concat(t,'" class="faqs__answer" aria-hidden="true">\n                ').concat(e.answer,"\n            </div>\n        "),c.appendChild(n)})),c.addEventListener("click",(function(e){var t=e.target.closest(".faqs__question");if(t){var n=t.nextElementSibling,a="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!a),n.setAttribute("aria-hidden",a),n.style.maxHeight=a?null:n.scrollHeight+"px"}}))),s=document.querySelector(".ham-menu"),d=document.querySelector(".off-screen-menu"),s&&d&&(s.addEventListener("click",(function(){this.classList.toggle("active"),d.classList.toggle("active"),document.body.classList.toggle("menu-open")})),document.addEventListener("click",(function(e){!d.classList.contains("active")||d.contains(e.target)||s.contains(e.target)||s.click()}))),(u=document.querySelector(".clients"))&&[].forEach((function(e){var t=document.createElement("div");t.classList.add("client"),t.innerHTML='\n            <img src="'.concat(e.logo,'" alt="').concat(e.name,'" loading="lazy">\n            <p>').concat(e.name,"</p>\n        "),u.appendChild(t)})),l(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.1;e.forEach((function(e){e.addEventListener("mouseenter",(function(){e.style.transform="scale(".concat(t,")"),e.style.transition="transform 0.3s ease"})),e.addEventListener("mouseleave",(function(){e.style.transform="scale(1)"}))}))}(document.querySelectorAll(".certification-img")),document.querySelectorAll('a[href^="#"]').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()})()})();