/*! For license information please see riesgos.bundle.js.LICENSE.txt */
(()=>{var e={633:(e,t,a)=>{var n=a(738).default;function r(){"use strict";e.exports=r=function(){return a},e.exports.__esModule=!0,e.exports.default=e.exports;var t,a={},o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(e,t,a){e[t]=a.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function p(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var r=t&&t.prototype instanceof E?t:E,o=Object.create(r.prototype),i=new _(n||[]);return c(o,"_invoke",{value:j(e,a,i)}),o}function v(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}a.wrap=m;var f="suspendedStart",h="suspendedYield",g="executing",b="completed",y={};function E(){}function L(){}function x(){}var C={};p(C,l,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(N([])));S&&S!==o&&i.call(S,l)&&(C=S);var q=x.prototype=E.prototype=Object.create(C);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function a(r,o,c,s){var l=v(e[r],e,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==n(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,c,s)}),(function(e){a("throw",e,c,s)})):t.resolve(u).then((function(e){d.value=e,c(d)}),(function(e){return a("throw",e,c,s)}))}s(l.arg)}var r;c(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,r){a(e,n,t,r)}))}return r=r?r.then(o,o):o()}})}function j(e,a,n){var r=f;return function(o,i){if(r===g)throw Error("Generator is already running");if(r===b){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=A(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=g;var l=v(e,a,n);if("normal"===l.type){if(r=n.done?b:h,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=b,n.method="throw",n.arg=l.arg)}}}function A(e,a){var n=a.method,r=e.iterator[n];if(r===t)return a.delegate=null,"throw"===n&&e.iterator.return&&(a.method="return",a.arg=t,A(e,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=v(r,e.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,y;var i=o.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,y):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,y)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function N(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function a(){for(;++r<e.length;)if(i.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=t,a.done=!0,a};return o.next=o}}throw new TypeError(n(e)+" is not iterable")}return L.prototype=x,c(q,"constructor",{value:x,configurable:!0}),c(x,"constructor",{value:L,configurable:!0}),L.displayName=p(x,u,"GeneratorFunction"),a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===L||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,p(e,u,"GeneratorFunction")),e.prototype=Object.create(q),e},a.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,d,(function(){return this})),a.AsyncIterator=I,a.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var i=new I(m(e,t,n,r),o);return a.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(q),p(q,u,"Generator"),p(q,l,(function(){return this})),p(q,"toString",(function(){return"[object Generator]"})),a.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},a.values=N,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(n,r){return c.type="throw",c.arg=e,a.next=n,r&&(a.method="next",a.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),T(a),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;T(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,a,n){return this.delegate={iterator:N(e),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=t),y}},a}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(a){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,a)=>{var n=a(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{"use strict";const e=a.p+"assets/images/logo_negro_maps.png";function t(){var t=document.getElementById("map-container"),a=document.querySelectorAll(".map-button");if(t&&a.length){var n=4.6747451365260595,r=-74.06211526147553;window.initGoogleMap=function(){var a=new google.maps.Map(t,{center:{lat:n,lng:r},zoom:14}),o={url:e,scaledSize:new google.maps.Size(50,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,25)};new google.maps.Marker({position:{lat:n,lng:r},map:a,icon:o,title:"Nuestra ubicación"})};var o=new IntersectionObserver((function(e){var t;e[0].isIntersecting&&((t=document.createElement("script")).src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjHr3DJQXXQJsbG7rhKl5tkQoSbDP1UDc&callback=initGoogleMap",t.async=!0,document.head.appendChild(t),o.disconnect())}),{threshold:.1});o.observe(t),a.forEach((function(e){e.addEventListener("click",(function(){var e;switch(this.dataset.map){case"waze":e="https://www.waze.com/ul?ll=".concat(n,",").concat(r,"&navigate=yes");break;case"moovit":e="https://moovit.com/?to=Nuestra%20Ubicación&tll=".concat(n,"_").concat(r);break;case"google":e="https://www.google.com/maps/search/?api=1&query=".concat(n,",").concat(r)}e&&window.open(e,"_blank")}))}))}}function n(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(n,r)}var r=a(756),o=a.n(r);const i=a.p+"assets/images/caneca.svg";function c(e){return new Promise((function(t){setTimeout((function(){console.log("Datos enviados a la API:",JSON.stringify(e,null,2));var a=function(e){console.log("Datos recibidos para procesar:",JSON.stringify(e,null,2));var t=[],a=[];return e.forEach((function(e){var n=(e.niveles.deficiencia?e.niveles.deficiencia.value:0)*(e.niveles.exposicion?e.niveles.exposicion.value:0)*(e.niveles.consecuencia?e.niveles.consecuencia.value:0);t.push({cargo:e.cargoName,area:e.area,riesgos:e.gesSeleccionados,nivelRiesgo:n,interpretacion:s(n)}),a.push({cargo:e.cargoName,area:e.area,descripcionTareas:e.descripcionTareas,riesgos:e.gesSeleccionados,medidasPreventivas:e.medidas})})),{matrizRiesgos:t,profesiograma:a}}(e);t({status:200,data:{message:"Datos recibidos y procesados correctamente",matrizRiesgos:a.matrizRiesgos,profesiograma:a.profesiograma}})}),1e3)}))}function s(e){return e>=600?"I":e>=150?"II":e>=40?"III":"IV"}function l(){var e=document.getElementById("cargoContainer"),t=document.getElementById("addCargoBtn"),a=document.getElementById("matrizRiesgosForm"),r=0;function s(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){return e.apply(n,o)}),a)}}function l(){var e=d();localStorage.setItem("matrizRiesgosData",JSON.stringify(e))}function d(){var t=[];return e.querySelectorAll(".cargo").forEach((function(e){var a={cargoName:e.querySelector('input[name="cargoName"]').value.trim(),area:e.querySelector('input[name="area"]').value.trim(),numTrabajadores:e.querySelector('input[name="numTrabajadores"]').value,descripcionTareas:e.querySelector('textarea[name="descripcionTareas"]').value,niveles:{},gesSeleccionados:[],medidas:[]};["tareasRutinarias","manipulaAlimentos","trabajaAlturas","trabajaEspaciosConfinados"].forEach((function(t){a[t]=e.querySelector('input[name="'.concat(t,'"]')).checked})),e.querySelectorAll('input[type="checkbox"][name^="ges"]:checked').forEach((function(e){a.gesSeleccionados.push(e.value)})),e.querySelectorAll(".medidas-section textarea").forEach((function(e){a.medidas.push(e.value)})),e.querySelectorAll(".nivel").forEach((function(e){var t=e.dataset.nivelNombre,n=e.querySelector(".barra.selected");a.niveles[t]=n?{value:parseInt(n.dataset.nivel),label:n.dataset.label}:null})),t.push(a)})),t}function u(){var t=!0;return e.querySelectorAll(".cargo").forEach((function(e){var a=e.querySelector('input[name="cargoName"]'),n=e.querySelector('input[name="area"]'),r=e.querySelector('input[name="numTrabajadores"]');a.value.trim()||(alert("Por favor, ingrese el nombre del cargo."),t=!1),n.value.trim()||(alert("Por favor, ingrese el área del cargo."),t=!1),(!r.value||r.value<1)&&(alert("Por favor, ingrese un número válido de trabajadores."),t=!1)})),t}function p(e){var t=e.querySelector(".ges-resumen");if(t){var a=e.querySelectorAll('input[type="checkbox"][name^="ges"]'),n=[];a.forEach((function(e){e.checked&&n.push(e.value)})),t.innerHTML="",n.length>0?n.forEach((function(e){var a=document.createElement("div");a.classList.add("ges-resumen-item");var n=document.createElement("span");n.classList.add("check-mark"),n.textContent="✓";var r=document.createElement("span");r.textContent=e,a.appendChild(n),a.appendChild(r),t.appendChild(a)})):t.textContent="No se han seleccionado GES."}else console.error("gesResumenDiv no encontrado en el DOM")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r++,t.niveles||(t.niveles={});var n=document.createElement("div");n.classList.add("cargo");var o=document.createElement("div");o.classList.add("cargo-header");var c=document.createElement("div");c.classList.add("header-left");var d=document.createElement("div");d.classList.add("area-label"),d.textContent=t.area||"Área";var u=document.createElement("h3");u.classList.add("cargo-title"),u.textContent=t.cargoName||"Cargo #".concat(r),c.appendChild(d),c.appendChild(u);var m=document.createElement("div");m.classList.add("header-right");var v=document.createElement("div");v.classList.add("trabajadores-container");var f=document.createElement("button");f.type="button",f.classList.add("minus-btn"),f.textContent="-";var h=document.createElement("input");h.type="number",h.name="numTrabajadores",h.min="1",h.value=t.numTrabajadores||"1",h.readOnly=!0;var g=document.createElement("button");g.type="button",g.classList.add("plus-btn"),g.textContent="+",f.addEventListener("click",(function(){parseInt(h.value)>1&&(h.value=parseInt(h.value)-1,l())})),g.addEventListener("click",(function(){h.value=parseInt(h.value)+1,l()})),v.appendChild(f),v.appendChild(h),v.appendChild(g);var b=document.createElement("button");b.type="button",b.classList.add("minimize-btn"),b.innerHTML="-",b.addEventListener("click",(function(){L.classList.toggle("hidden"),b.innerHTML=L.classList.contains("hidden")?"+":"-"}));var y=document.createElement("button");y.type="button",y.classList.add("delete-btn");var E=document.createElement("img");E.src=i,E.alt="Eliminar",E.classList.add("trash-icon"),y.appendChild(E),a&&(y.disabled=!0),y.addEventListener("click",(function(){r>1?confirm("¿Está seguro de que desea eliminar este cargo?")&&(n.remove(),r--,l()):alert("No puede eliminar el último cargo.")})),m.appendChild(v),m.appendChild(b),m.appendChild(y),o.appendChild(c),o.appendChild(m);var L=document.createElement("div");L.classList.add("cargo-body");var x=document.createElement("div");x.classList.add("info-general-section");var C=document.createElement("input");C.type="text",C.name="cargoName",C.placeholder="Ingresa el nombre del cargo",C.value=t.cargoName||"",C.addEventListener("input",s((function(){u.textContent=C.value||"Cargo #".concat(r),l()}),300));var w=document.createElement("input");w.type="text",w.name="area",w.placeholder="Ingresa el área",w.value=t.area||"",w.addEventListener("input",s((function(){d.textContent=w.value||"Área",l()}),300));var S=document.createElement("textarea");S.name="descripcionTareas",S.placeholder="Describe las tareas de este cargo",S.value=t.descripcionTareas||"",S.addEventListener("input",s(l,300)),x.appendChild(C),x.appendChild(w),x.appendChild(S);var q=document.createElement("div");q.classList.add("toggles-section");[{label:"¿Las tareas son rutinarias?",name:"tareasRutinarias"},{label:"¿Manipula alimentos?",name:"manipulaAlimentos"},{label:"¿Trabaja en alturas?",name:"trabajaAlturas"},{label:"¿Trabaja en espacios confinados?",name:"trabajaEspaciosConfinados"}].forEach((function(e){var a=document.createElement("div");a.classList.add("toggle");var n=document.createElement("label");n.textContent=e.label;var r=document.createElement("input");r.type="checkbox",r.name=e.name,r.checked=t[e.name]||!1,r.addEventListener("change",l);var o=document.createElement("span");o.classList.add("slider");var i=document.createElement("span");i.classList.add("toggle-yes"),i.textContent="Sí";var c=document.createElement("span");c.classList.add("toggle-no"),c.textContent="No";var s=document.createElement("label");s.classList.add("switch"),s.appendChild(r),s.appendChild(o),s.appendChild(i),s.appendChild(c),a.appendChild(n),a.appendChild(s),q.appendChild(a)}));var k=document.createElement("div");k.classList.add("riesgos-section");var I={Físico:"#cbe3f3",Químico:"#fee6fc",Biológico:"#fdf8cd",Ergonómico:"#c7f9ff",Psicosocial:"#d8fff1",Mecánico:"#ffefd2",Eléctrico:"#e6e6e6",Seguridad:"#fee6fc"},j=document.createElement("div");j.classList.add("riesgos"),["Físico","Químico","Biológico","Ergonómico","Psicosocial","Mecánico","Eléctrico","Seguridad"].forEach((function(e){var a=document.createElement("div");a.classList.add("riesgo");var o=document.createElement("button");o.type="button",o.classList.add("riesgo-header"),o.textContent="Riesgo ".concat(e),o.style.backgroundColor=I[e],o.setAttribute("aria-expanded","false");var i,c,s,d,u,m,v,f=document.createElement("span");f.classList.add("expand-icon"),f.textContent="+",f.style.color=(i=-20,c=parseInt(I[e].slice(1),16),s=i<0?0:255,d=i<0?-1*i:i,u=c>>16,m=c>>8&255,v=255&c,"#"+(16777216+65536*(Math.round((s-u)*d)+u)+256*(Math.round((s-m)*d)+m)+(Math.round((s-v)*d)+v)).toString(16).slice(1)),o.appendChild(f);var h=document.createElement("div");h.classList.add("riesgo-content");var g=function(e){return{Físico:["Ruido","Vibraciones","Temperaturas Extremas","Radiaciones Ionizantes","Radiaciones No Ionizantes","Iluminación deficiente","Presiones anormales"],Químico:["Gases","Vapores","Polvos","Humos","Líquidos","Solventes"],Biológico:["Virus","Bacterias","Hongos","Parásitos","Picaduras/Mordeduras"],Ergonómico:["Posturas prolongadas","Movimientos Repetitivos","Manipulación Manual de Cargas","Esfuerzo"],Psicosocial:["Gestión organizacional","Estrés","Violencia Laboral","Jornadas Excesivas","Sobrecarga laboral"],Mecánico:["Golpes y Cortes","Caídas","Proyección de Partículas"],Eléctrico:["Contacto Directo","Contacto Indirecto","Arco Eléctrico"],Seguridad:["Maquinaria/Herramienta","Eléctrico","Locativo","Tecnológico","Accidentes de tránsito","Inseguridad pública"]}[e]||[]}(e);g.forEach((function(a){var o=document.createElement("input");o.type="checkbox",o.name="ges".concat(r),o.value="".concat(e," - ").concat(a),t.gesSeleccionados&&t.gesSeleccionados.includes("".concat(e," - ").concat(a))&&(o.checked=!0),o.addEventListener("change",(function(){p(n),l()}));var i=document.createElement("label");i.textContent=a;var c=document.createElement("div");c.classList.add("ges-item"),c.appendChild(o),c.appendChild(i),h.appendChild(c)})),o.addEventListener("click",(function(){var e="true"===o.getAttribute("aria-expanded")||!1;o.setAttribute("aria-expanded",!e),h.classList.toggle("active"),f.textContent=e?"+":"-"})),a.appendChild(o),a.appendChild(h),j.appendChild(a)})),k.appendChild(j);var A=document.createElement("div");A.classList.add("ges-resumen");var M=document.createElement("div");M.classList.add("niveles-section");[{nombre:"deficiencia",etiqueta:"Nivel de Deficiencia de Control del Riesgo",opciones:[{label:"Bajo (B)",value:0,descripcion:"No se ha detectado consecuencia alguna, o la eficacia del conjunto de medidas preventivas existentes es alta, o ambos. El riesgo está controlado."},{label:"Medio (M)",value:2,descripcion:"Se han detectado peligros que pueden dar lugar a consecuencias poco significativas o de menor importancia, o la eficacia del conjunto de medidas preventivas existentes es moderada, o ambos."},{label:"Alto (A)",value:6,descripcion:"Se ha(n) detectado algún(os) peligro(s) que pueden dar lugar a consecuencias significativa(s), o la eficacia del conjunto de medidas preventivas existentes es baja, o ambos."},{label:"Muy Alto (MA)",value:10,descripcion:"Se ha(n) detectado peligro(s) que determina(n) como posible la generación de incidentes o consecuencias muy significativas, o la eficacia del conjunto de medidas preventivas existentes respecto al riesgo es nula o no existe, o ambos."}]},{nombre:"exposicion",etiqueta:"Nivel de Exposición a los Riesgos",opciones:[{label:"Esporádica (EE)",value:1,descripcion:"La situación de exposición se presenta de manera eventual."},{label:"Ocasional (EO)",value:2,descripcion:"La situación de exposición se presenta alguna vez durante la jornada laboral y por un periodo de tiempo corto."},{label:"Frecuente (EF)",value:3,descripcion:"La situación de exposición se presenta varias veces durante la jornada laboral por tiempos cortos."},{label:"Continua (EC)",value:4,descripcion:"La situación de exposición se presenta sin interrupción o varias veces con tiempo prolongado durante la jornada laboral."}]},{nombre:"consecuencia",etiqueta:"Nivel de Consecuencia del Riesgo",opciones:[{label:"Leve (L)",value:10,descripcion:"Lesiones o enfermedades que no requieren incapacidad."},{label:"Grave (G)",value:25,descripcion:"Lesiones o enfermedades con incapacidad laboral temporal (ILT)."},{label:"Muy Grave (MG)",value:60,descripcion:"Lesiones o enfermedades graves irreparables (incapacidad permanente, parcial o invalidez)."},{label:"Mortal (M)",value:100,descripcion:"Pueden ocurrir resultados mortales."}]}].forEach((function(e){var a=document.createElement("div");a.classList.add("nivel"),a.dataset.nivelNombre=e.nombre;var n=document.createElement("label");n.textContent=e.etiqueta,a.appendChild(n);var r=document.createElement("div");r.classList.add("barras");var o=["#4caf50","#ffeb3b","#ff9800","#f44336"];e.opciones.forEach((function(n,i){var c=document.createElement("div");c.classList.add("barra"),c.style.backgroundColor=o[i],c.dataset.nivel=n.value,c.dataset.label=n.label,c.dataset.descripcion=n.descripcion,c.setAttribute("tabindex","0"),c.setAttribute("role","button"),c.setAttribute("aria-label",n.label),t.niveles&&t.niveles[e.nombre]&&t.niveles[e.nombre].value==n.value&&c.classList.add("selected");var s=document.createElement("span");s.classList.add("barra-label"),s.textContent=n.label;var d=document.createElement("span");d.classList.add("check-icon"),d.textContent="✓",c.appendChild(s),c.appendChild(d),c.addEventListener("click",(function(){a.querySelectorAll(".barra").forEach((function(e){return e.classList.remove("selected")})),c.classList.add("selected"),t.niveles[e.nombre]={value:n.value,label:n.label},l()})),c.addEventListener("mouseenter",(function(e){var t=document.createElement("div");function a(e){t.style.left=e.pageX+10+"px",t.style.top=e.pageY+10+"px"}t.classList.add("tooltip"),t.textContent=n.descripcion,document.body.appendChild(t),a(e),c.addEventListener("mousemove",a),c.addEventListener("mouseleave",(function(){document.body.removeChild(t),c.removeEventListener("mousemove",a)}),{once:!0})})),r.appendChild(c)})),a.appendChild(r),M.appendChild(a)}));var T=document.createElement("div");T.classList.add("medidas-section");["Medidas para eliminar riesgos","Medidas que tomarás para sustituir fuentes de riesgos","Medidas que tomarás en infraestructura para eliminar fuentes de riesgo"].forEach((function(e,a){var n=document.createElement("textarea");n.name="medida".concat(a+1),n.placeholder=e,n.value=t.medidas&&t.medidas[a]||"",n.addEventListener("input",s(l,300)),T.appendChild(n)})),L.appendChild(x),L.appendChild(q),L.appendChild(k),L.appendChild(A),L.appendChild(M),L.appendChild(T),n.appendChild(o),n.appendChild(L),e.appendChild(n),p(n)}var v=JSON.parse(localStorage.getItem("matrizRiesgosData"))||[];v.length>0?v.forEach((function(e,t){m(e,0===t)})):m({},!0),t.addEventListener("click",(function(){m()})),a.addEventListener("submit",function(){var e,t=(e=o().mark((function e(t){var a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!u()){e.next=17;break}return a=d(),e.prev=3,e.next=6,c(a);case 6:n=e.sent,console.log("Respuesta de la API:",n.data),r=n.data,o=void 0,(o=document.createElement("div")).innerHTML="\n        <h3>Matriz de Riesgos</h3>\n        <pre>".concat(JSON.stringify(r.matrizRiesgos,null,2),"</pre>\n        <h3>Profesiograma</h3>\n        <pre>").concat(JSON.stringify(r.profesiograma,null,2),"</pre>\n    "),document.body.appendChild(o),alert("Matriz de Riesgos y Profesiograma generados correctamente."),localStorage.removeItem("matrizRiesgosData"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),alert("Hubo un error al procesar los datos."),console.error(e.t0);case 17:case"end":return e.stop()}var r,o}),e,null,[[3,13]])})),function(){var t=this,a=arguments;return new Promise((function(r,o){var i=e.apply(t,a);function c(e){n(i,r,o,c,s,"next",e)}function s(e){n(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}())}function d(){var e,a,n,r,o,i,c,s,d,u;e=document.querySelector(".dropdown-toggle"),a=document.getElementById("services-menu"),e&&a&&(e.addEventListener("click",(function(){var e="true"===this.getAttribute("aria-expanded")||!1;this.setAttribute("aria-expanded",!e),a.setAttribute("aria-hidden",e)})),document.addEventListener("click",(function(t){e.contains(t.target)||a.contains(t.target)||(e.setAttribute("aria-expanded","false"),a.setAttribute("aria-hidden","true"))}))),function(){var e=document.querySelectorAll(".step-card, .client-card");if(e.length){var t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.1,rootMargin:"0px 0px -100px 0px"});e.forEach((function(e){return t.observe(e)}))}}(),t(),n=document.getElementById("whatsapp-button"),r=document.getElementById("whatsapp-popup"),o=document.getElementById("close-popup"),i=document.getElementById("start-chat"),n&&r&&o&&i&&(n.addEventListener("click",(function(){r.style.display="block",setTimeout((function(){r.classList.add("show")}),10)})),o.addEventListener("click",(function(){r.classList.remove("show"),setTimeout((function(){r.style.display="none"}),300)})),i.addEventListener("click",(function(){window.open("https://wa.me/573205803048","_blank")}))),(c=document.querySelector(".faqs__grid"))&&([{question:"¿Cuánto me va a costar implementar un programa de SST completo?",answer:"En Genesys, adaptamos nuestros programas de SST a las necesidades específicas de tu empresa. Ofrecemos soluciones flexibles y escalables, asegurando que obtengas el mejor valor por tu inversión sin comprometer la calidad. Contáctanos para una cotización personalizada."}].forEach((function(e,t){var a=document.createElement("div");a.classList.add("faqs__item"),a.innerHTML='\n            <div class="faqs__question" tabindex="0" aria-expanded="false" aria-controls="faq-answer-'.concat(t,'">\n                ').concat(e.question,'\n            </div>\n            <div id="faq-answer-').concat(t,'" class="faqs__answer" aria-hidden="true">\n                ').concat(e.answer,"\n            </div>\n        "),c.appendChild(a)})),c.addEventListener("click",(function(e){var t=e.target.closest(".faqs__question");if(t){var a=t.nextElementSibling,n="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!n),a.setAttribute("aria-hidden",n),a.style.maxHeight=n?null:a.scrollHeight+"px"}}))),s=document.querySelector(".ham-menu"),d=document.querySelector(".off-screen-menu"),s&&d&&(s.addEventListener("click",(function(){this.classList.toggle("active"),d.classList.toggle("active"),document.body.classList.toggle("menu-open")})),document.addEventListener("click",(function(e){!d.classList.contains("active")||d.contains(e.target)||s.contains(e.target)||s.click()}))),(u=document.querySelector(".clients"))&&[].forEach((function(e){var t=document.createElement("div");t.classList.add("client"),t.innerHTML='\n            <img src="'.concat(e.logo,'" alt="').concat(e.name,'" loading="lazy">\n            <p>').concat(e.name,"</p>\n        "),u.appendChild(t)})),l(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.1;e.forEach((function(e){e.addEventListener("mouseenter",(function(){e.style.transform="scale(".concat(t,")"),e.style.transition="transform 0.3s ease"})),e.addEventListener("mouseleave",(function(){e.style.transform="scale(1)"}))}))}(document.querySelectorAll(".certification-img")),document.querySelectorAll('a[href^="#"]').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()})()})();