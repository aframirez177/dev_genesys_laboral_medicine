/*! For license information please see profesiogramaView.bundle.js.LICENSE.txt */
(()=>{var e={4633:(e,t,n)=>{var o=n(3738).default;function r(){"use strict";e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,i=a.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var r=t&&t.prototype instanceof x?t:x,a=Object.create(r.prototype),i=new O(o||[]);return c(a,"_invoke",{value:C(e,n,i)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var v="suspendedStart",g="suspendedYield",m="executing",y="completed",b={};function x(){}function w(){}function E(){}var P={};p(P,l,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==a&&i.call(k,l)&&(P=k);var N=E.prototype=x.prototype=Object.create(P);function j(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(r,a,c,s){var l=h(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,s)}))}s(l.arg)}var r;c(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(a,a):a()}})}function C(e,n,o){var r=v;return function(a,i){if(r===m)throw Error("Generator is already running");if(r===y){if("throw"===a)throw i;return{value:t,done:!0}}for(o.method=a,o.arg=i;;){var c=o.delegate;if(c){var s=S(c,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===v)throw r=y,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=m;var l=h(e,n,o);if("normal"===l.type){if(r=o.done?y:g,l.arg===b)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r=y,o.method="throw",o.arg=l.arg)}}}function S(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var a=h(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return w.prototype=E,c(N,"constructor",{value:E,configurable:!0}),c(E,"constructor",{value:w,configurable:!0}),w.displayName=p(E,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,p(e,d,"GeneratorFunction")),e.prototype=Object.create(N),e},n.awrap=function(e){return{__await:e}},j(I.prototype),p(I.prototype,u,(function(){return this})),n.AsyncIterator=I,n.async=function(e,t,o,r,a){void 0===a&&(a=Promise);var i=new I(f(e,t,o,r),a);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(N),p(N,d,"Generator"),p(N,l,(function(){return this})),p(N,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},n.values=D,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(o,r){return c.type="throw",c.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:D(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),b}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4756:(e,t,n)=>{var o=n(4633)();e.exports=o;try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t,n,o,r,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function t(t){return function(){var n=this,o=arguments;return new Promise((function(r,a){var i=t.apply(n,o);function c(t){e(i,r,a,c,s,"next",t)}function s(t){e(i,r,a,c,s,"throw",t)}c(void 0)}))}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}var i=n(4756),c=n.n(i),s=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentPage=0,this.totalPages=0,this.viewer=null,this.pages=[],this.init()},n=[{key:"init",value:function(){var e=this;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){return e.setup()})):this.setup()}},{key:"setup",value:function(){this.viewer=document.getElementById("profesiograma-viewer"),this.pages=document.querySelectorAll(".page"),this.totalPages=this.pages.length,document.getElementById("total-pages-num").textContent=this.totalPages,this.initializeDots(),this.bindEvents(),this.loadData(),this.goToPage(0),this.setDates()}},{key:"initializeDots",value:function(){var e=this,t=document.getElementById("page-dots");t.innerHTML="";for(var n=function(n){var o=document.createElement("button");o.className="page-dot",o.setAttribute("aria-label","Ir a sección ".concat(n+1)),o.dataset.page=n,o.addEventListener("click",(function(){e.goToPage(n)})),t.appendChild(o)},o=0;o<this.totalPages;o++)n(o)}},{key:"bindEvents",value:function(){var e=this;document.getElementById("btn-prev").addEventListener("click",(function(){return e.previousPage()})),document.getElementById("btn-next").addEventListener("click",(function(){return e.nextPage()})),document.getElementById("btn-print").addEventListener("click",(function(){return e.print()})),document.getElementById("btn-export-pdf").addEventListener("click",(function(){return e.exportPDF()})),document.addEventListener("keydown",(function(t){"ArrowLeft"===t.key?e.previousPage():"ArrowRight"===t.key&&e.nextPage()})),this.viewer.addEventListener("scroll",(function(){e.detectCurrentPage()})),this.initTouchSupport()}},{key:"initTouchSupport",value:function(){var e=this,t=0,n=0;this.viewer.addEventListener("touchstart",(function(e){t=e.changedTouches[0].screenX}),{passive:!0}),this.viewer.addEventListener("touchend",(function(t){n=t.changedTouches[0].screenX,e.handleSwipe()}),{passive:!0}),this.handleSwipe=function(){var o=t-n;Math.abs(o)>50&&(o>0?e.nextPage():e.previousPage())}}},{key:"detectCurrentPage",value:function(){var e=this.viewer.scrollLeft,t=this.viewer.clientWidth,n=Math.round(e/t);n!==this.currentPage&&(this.currentPage=n,this.updateUI())}},{key:"goToPage",value:function(e){if(!(e<0||e>=this.totalPages)){this.currentPage=e;var t=this.viewer.clientWidth;this.viewer.scrollTo({left:e*t,behavior:"smooth"}),this.updateUI()}}},{key:"nextPage",value:function(){this.currentPage<this.totalPages-1&&this.goToPage(this.currentPage+1)}},{key:"previousPage",value:function(){this.currentPage>0&&this.goToPage(this.currentPage-1)}},{key:"updateUI",value:function(){var e=this;document.getElementById("current-page-num").textContent=this.currentPage+1;var t=document.getElementById("btn-prev"),n=document.getElementById("btn-next");t.disabled=0===this.currentPage,n.disabled=this.currentPage===this.totalPages-1,document.querySelectorAll(".page-dot").forEach((function(t,n){n===e.currentPage?t.classList.add("active"):t.classList.remove("active")}))}},{key:"print",value:function(){window.print()}},{key:"exportPDF",value:(i=t(c().mark((function e(){var t,n,o,r,a,i,s,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(window.location.search),n=t.get("id")||t.get("documento_id")){e.next=5;break}return alert("No se encontró el ID del profesiograma"),e.abrupt("return");case 5:return e.prev=5,o=document.getElementById("btn-export-pdf"),r=o.innerHTML,o.disabled=!0,o.innerHTML='\n                <svg class="btn-icon btn-icon-spin" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                    <circle cx="12" cy="12" r="10"></circle>\n                    <path d="M12 6v6l4 2"></path>\n                </svg>\n                Generando PDF...\n            ',e.next=12,fetch("/api/profesiograma/".concat(n,"/export-pdf"),{method:"POST",headers:{"Content-Type":"application/json"}});case 12:if((a=e.sent).ok){e.next=15;break}throw new Error("Error al generar PDF");case 15:return e.next=17,a.blob();case 17:i=e.sent,s=window.URL.createObjectURL(i),(l=document.createElement("a")).style.display="none",l.href=s,l.download="profesiograma_".concat(n,".pdf"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(s),document.body.removeChild(l),o.disabled=!1,o.innerHTML=r,alert("PDF generado exitosamente"),e.next=39;break;case 32:e.prev=32,e.t0=e.catch(5),console.error("Error al exportar PDF:",e.t0),alert("Error al generar el PDF. Por favor intente nuevamente."),(u=document.getElementById("btn-export-pdf")).disabled=!1,u.innerHTML='\n                <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>\n                    <polyline points="14 2 14 8 20 8"></polyline>\n                    <line x1="12" y1="18" x2="12" y2="12"></line>\n                    <line x1="9" y1="15" x2="15" y2="15"></line>\n                </svg>\n                Exportar PDF\n            ';case 39:case"end":return e.stop()}}),e,null,[[5,32]])}))),function(){return i.apply(this,arguments)})},{key:"loadData",value:(r=t(c().mark((function e(){var t,n,o,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(window.location.search),n=t.get("id")||t.get("documento_id")){e.next=5;break}return console.warn("No profesiograma ID in URL (looked for both ?id= and ?documento_id=)"),e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch("/api/profesiograma/".concat(n));case 8:if((o=e.sent).ok){e.next=11;break}throw new Error("Error al cargar datos del profesiograma");case 11:return e.next=13,o.json();case 13:r=e.sent,this.populateData(r),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.error("Error al cargar profesiograma:",e.t0),alert("Error al cargar los datos del profesiograma");case 21:case"end":return e.stop()}}),e,this,[[5,17]])}))),function(){return r.apply(this,arguments)})},{key:"populateData",value:function(e){document.querySelectorAll("#empresa-nombre, #empresa-nombre-obj").forEach((function(t){var n;t&&(t.textContent=(null===(n=e.empresa)||void 0===n?void 0:n.nombre)||"[Nombre de la empresa]")}));var t,n=document.getElementById("empresa-nit");n&&(n.textContent=(null===(t=e.empresa)||void 0===t?void 0:t.nit)||"[NIT]"),this.populateCargos(e.cargos||[]);var o=document.getElementById("proxima-revision");if(o){var r=new Date;r.setFullYear(r.getFullYear()+1),o.textContent=r.toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"})}var a=document.getElementById("fecha-version-inicial"),i=document.getElementById("fecha-elaboro"),c=(new Date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"});a&&(a.textContent=c),i&&(i.textContent=c)}},{key:"populateCargos",value:function(e){var t=this,n=document.getElementById("cargos-container");n&&(e&&0!==e.length?(n.innerHTML="",e.forEach((function(e,o){var r=t.generateCargoHTML(e,o+1,o);n.innerHTML+=r}))):n.innerHTML='\n                <div class="no-data-message">\n                    <p>No se encontraron cargos para este profesiograma.</p>\n                </div>\n            ')}},{key:"generateCargoHTML",value:function(e,t,n){var o,r,a,i,c,s,l=function(e){return{I:"#4caf50",II:"#ffeb3b",III:"#ff9800",IV:"#f44336"}[e]||"#999"},u=(null===(o=e.gesIdentificados)||void 0===o?void 0:o.map((function(e){var t,n,o,r,a,i,c,s,u;return'\n            <div class="ges-item" style="border-left: 4px solid '.concat(l(e.nivelNR),';">\n                <div class="ges-header">\n                    <div class="ges-info">\n                        <span class="ges-riesgo-tipo">').concat(e.riesgo||"Riesgo",'</span>\n                        <h5 class="ges-nombre">').concat(e.ges||"",'</h5>\n                    </div>\n                    <span class="ges-badge" style="background-color: ').concat(l(e.nivelNR),';">\n                        NR: ').concat((null===(t=e.niveles)||void 0===t?void 0:t.nr)||"N/A"," - ").concat(e.interpretacionNR||"",'\n                    </span>\n                </div>\n                <div class="ges-niveles">\n                    <span class="nivel-tag">ND: ').concat(null!==(n=null===(o=e.niveles)||void 0===o?void 0:o.nd)&&void 0!==n?n:"N/A",'</span>\n                    <span class="nivel-tag">NE: ').concat(null!==(r=null===(a=e.niveles)||void 0===a?void 0:a.ne)&&void 0!==r?r:"N/A",'</span>\n                    <span class="nivel-tag">NP: ').concat(null!==(i=null===(c=e.niveles)||void 0===c?void 0:c.np)&&void 0!==i?i:"N/A",'</span>\n                    <span class="nivel-tag">NC: ').concat(null!==(s=null===(u=e.niveles)||void 0===u?void 0:u.nc)&&void 0!==s?s:"N/A","</span>\n                </div>\n                ").concat(e.efectosPosibles?'<p class="ges-efectos"><strong>Efectos posibles:</strong> '.concat(e.efectosPosibles,"</p>"):"","\n                ").concat(e.justificacion?'<p class="ges-justificacion"><strong>Justificación:</strong> '.concat(e.justificacion,"</p>"):"","\n            </div>\n        ")})).join(""))||"",d=(null===(r=e.factoresRiesgo)||void 0===r||r.map((function(e){return'\n            <div class="factor-riesgo-item">\n                <div class="factor-header">\n                    <h5 class="factor-nombre">'.concat(e.factor||"",'</h5>\n                    <span class="factor-badge" style="background-color: ').concat(l(e.nrNivel),';">\n                        NR: ').concat(e.nr||"N/A"," (Nivel ").concat(e.nrNivel||"N/A",')\n                    </span>\n                </div>\n                <p class="factor-descripcion">').concat(e.descripcion||"",'</p>\n                <p class="factor-exposicion"><strong>Nivel de exposición:</strong> ').concat(e.nivelExposicion||"N/A","</p>\n                ").concat(e.justificacion?'<p class="factor-justificacion"><strong>Justificación técnica:</strong> '.concat(e.justificacion,"</p>"):"","\n            </div>\n        ")})).join(""),(null===(a=e.examenes)||void 0===a?void 0:a.map((function(e,t){return'\n            <tr class="examen-row" data-examen-index="'.concat(t,'" data-cargo-index="').concat(n,'">\n                <td>').concat(e.nombre||"",'</td>\n                <td class="check-cell">✓</td>\n                <td class="check-cell">✓</td>\n                <td class="check-cell">').concat(function(e){if(!e)return!1;var t=e.toLowerCase();return t.includes("emo")||t.includes("examen médico")||t.includes("examen medico")||t.includes("médico ocupacional")||t.includes("medico ocupacional")}(e.nombre)?"✓":"","</td>\n                <td>").concat(e.periodicidad||"",'</td>\n                <td class="justificacion-cell">\n                    <span class="justificacion-preview">').concat(e.justificacion||"","</span>\n                </td>\n            </tr>\n        ")})).join(""))||'<tr><td colspan="6" class="no-data">No se definieron exámenes médicos.</td></tr>'),p=(null===(i=e.epp)||void 0===i?void 0:i.map((function(e){return"<li>".concat(e,"</li>")})).join(""))||'<li class="no-data">No se especificaron EPP.</li>',f=(null===(c=e.aptitudes)||void 0===c?void 0:c.map((function(e){return"<li>".concat(e,"</li>")})).join(""))||'<li class="no-data">No se especificaron aptitudes.</li>',h=(null===(s=e.condicionesIncompatibles)||void 0===s?void 0:s.map((function(e){return"<li>".concat(e,"</li>")})).join(""))||'<li class="no-data">No se especificaron condiciones incompatibles.</li>',v=e.togglesEspeciales||{},g=[];v.trabajaAlturas&&g.push({icono:"fa-hard-hat",titulo:"Trabajo en Alturas",descripcion:"El cargo implica trabajo en alturas (≥1.5m). Requiere certificación según Res. 4272/2021.",examenes:"Examen médico con énfasis osteomuscular para alturas (EMOA), Glicemia, Perfil Lipídico, Electrocardiograma, Espirometría",normativa:"Resolución 1409/2012 y 4272/2021"}),v.conduceVehiculo&&g.push({icono:"fa-car",titulo:"Conduce Vehículo",descripcion:"El cargo requiere conducción de vehículos como parte de sus funciones.",examenes:"Examen Psicosensométrico (PSM), Glicemia, Perfil Lipídico",normativa:"Resolución 1565/2014 (PESV) y Ley 1383/2010"}),v.manipulaAlimentos&&g.push({icono:"fa-utensils",titulo:"Manipulación de Alimentos",descripcion:"El cargo involucra manipulación directa de alimentos para consumo humano.",examenes:"Examen médico con énfasis en manipulación de alimentos (EMOMP), Frotis de Garganta, KOH, Coprológico",normativa:"Resolución 2674/2013"}),v.trabajaEspaciosConfinados&&g.push({icono:"fa-door-closed",titulo:"Trabajo en Espacios Confinados",descripcion:"El cargo implica ingreso a espacios confinados (tanques, silos, pozos, túneles, etc.).",examenes:"EMO, Espirometría, Electrocardiograma, Glicemia, Perfil Lipídico, Psicosensométrico",normativa:"Resolución 0491/2020 y NTC 4116"});var m=g.length>0?g.map((function(e){return'\n                <div class="caracteristica-especial-item">\n                    <div class="caracteristica-header">\n                        <i class="fas '.concat(e.icono,'"></i>\n                        <h5 class="caracteristica-titulo">').concat(e.titulo,'</h5>\n                    </div>\n                    <p class="caracteristica-descripcion">').concat(e.descripcion,'</p>\n                    <div class="caracteristica-detalles">\n                        <p><strong>Exámenes requeridos:</strong> ').concat(e.examenes,"</p>\n                        <p><strong>Normativa aplicable:</strong> ").concat(e.normativa,"</p>\n                    </div>\n                </div>\n            ")})).join(""):"";return'\n            \x3c!-- PÁGINA 1 DE FICHA: Identificación de Riesgos --\x3e\n            <div class="cargo-ficha cargo-ficha-pagina-1">\n                <div class="cargo-header">\n                    <div class="cargo-numero">FICHA N°: '.concat(String(t).padStart(3,"0"),'</div>\n                    <h3 class="cargo-nombre">').concat(e.nombre||"Cargo sin nombre",'</h3>\n                </div>\n\n                <div class="cargo-info-grid">\n                    <div class="cargo-info-item">\n                        <span class="info-label">Área:</span>\n                        <span class="info-value">').concat(e.area||"N/A",'</span>\n                    </div>\n                    <div class="cargo-info-item">\n                        <span class="info-label">N° Trabajadores:</span>\n                        <span class="info-value">').concat(e.numTrabajadores||"N/A",'</span>\n                    </div>\n                    <div class="cargo-info-item">\n                        <span class="info-label">Nivel de Riesgo ARL:</span>\n                        <span class="info-value badge-risk">').concat(e.nivelRiesgoARL||"N/A","</span>\n                    </div>\n                </div>\n\n                ").concat(m?'\n                <div class="cargo-section caracteristicas-especiales-section">\n                    <h4 class="cargo-section-title">\n                        <i class="fas fa-exclamation-triangle"></i>\n                        Características Especiales del Cargo\n                    </h4>\n                    <p class="section-subtitle">Condiciones especiales que requieren exámenes y controles específicos según normativa vigente</p>\n                    <div class="caracteristicas-especiales-list">\n                        '.concat(m,"\n                    </div>\n                </div>\n                "):"",'\n\n                <div class="cargo-section">\n                    <h4 class="cargo-section-title">Descripción del cargo</h4>\n                    <p class="cargo-descripcion">').concat(e.descripcion||"No disponible","</p>\n                </div>\n\n                ").concat(u?'\n                <div class="cargo-section">\n                    <h4 class="cargo-section-title">GES Identificados (Grupos de Exposición Similar)</h4>\n                    <p class="section-subtitle">Listado completo de riesgos identificados para este cargo con sus niveles calculados según GTC-45</p>\n                    <div class="ges-identificados-list">\n                        '.concat(u,"\n                    </div>\n                </div>\n                "):"",'\n            </div>\n\n            \x3c!-- PÁGINA 2 DE FICHA: Protocolo Médico y Controles --\x3e\n            <div class="cargo-ficha cargo-ficha-pagina-2">\n                <div class="cargo-header cargo-header-continuacion">\n                    <div class="cargo-numero">FICHA N°: ').concat(String(t).padStart(3,"0"),' (Continuación)</div>\n                    <h3 class="cargo-nombre">').concat(e.nombre||"Cargo sin nombre",'</h3>\n                </div>\n\n                <div class="cargo-section">\n                    <h4 class="cargo-section-title">Exámenes Médicos Ocupacionales</h4>\n                    <table class="examenes-table">\n                        <thead>\n                            <tr>\n                                <th>Examen</th>\n                                <th class="check-header">Ingreso</th>\n                                <th class="check-header">Periódico</th>\n                                <th class="check-header">Retiro</th>\n                                <th>Periodicidad</th>\n                                <th>Justificación</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            ').concat(d,'\n                        </tbody>\n                    </table>\n                </div>\n\n                <div class="cargo-section">\n                    <h4 class="cargo-section-title">Elementos de Protección Personal (EPP)</h4>\n                    <ul class="epp-list">\n                        ').concat(p,'\n                    </ul>\n                </div>\n\n                <div class="cargo-section">\n                    <h4 class="cargo-section-title">Aptitudes Requeridas</h4>\n                    <ul class="aptitudes-list">\n                        ').concat(f,'\n                    </ul>\n                </div>\n\n                <div class="cargo-section">\n                    <h4 class="cargo-section-title">Condiciones de Salud Incompatibles</h4>\n                    <ul class="incompatibles-list">\n                        ').concat(h,"\n                    </ul>\n                </div>\n            </div>\n        ")}},{key:"setDates",value:function(){var e=new Date,t=e.toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"}),n=document.getElementById("fecha-elaboracion");n&&(n.textContent=t);var o=new Date(e);o.setFullYear(o.getFullYear()+1);var r=o.toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"}),a=document.getElementById("fecha-vigencia");a&&(a.textContent=r);var i=document.getElementById("fecha-revision");i&&(i.textContent=r)}}],n&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,o,r,i}();new s;console.log("✅ Profesiograma Viewer initialized")})()})();